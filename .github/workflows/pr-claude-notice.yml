name: PR AI Coding Notice

on:
  pull_request_target:
    types: [opened]

permissions:
  contents: read
  pull-requests: write

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - name: Post AI coding notice
        uses: actions/github-script@v7
        with:
          script: |
            const owner = context.repo.owner;
            const repo = context.repo.repo;
            const prNumber = context.payload.pull_request.number;
            const author = context.payload.pull_request.user.login;

            const body = [
              `ðŸ‘‹ Hey @${author} â€” thanks for opening this PR!`,
              '',
              '> **ðŸ¤– This project is developed exclusively using AI coding assistants.**',
              '>',
              '> Please do not attempt to code anything for this project manually.',
              '> All contributions should be authored using an AI coding tool such as:',
              '>',
              '> - [Claude Code](https://docs.anthropic.com/en/docs/claude-code/overview) (Opus 4.5 / 4.6) â€” **recommended**',
              '> - [GitHub Copilot](https://github.com/features/copilot)',
              '> - [Cursor](https://cursor.com)',
              '> - Other AI coding assistants',
              '>',
              '> This ensures consistency in code style, architecture patterns, test coverage,',
              '> and commit quality across the entire codebase.',
              '',
              '---',
              '*This is an automated message.*',
            ].join('\n');

            await github.rest.issues.createComment({
              owner,
              repo,
              issue_number: prNumber,
              body,
            });

name: PR Claude Notice

on:
  pull_request_target:
    types: [opened]

permissions:
  contents: read
  pull-requests: write

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - name: Post Claude coding notice
        uses: actions/github-script@v7
        with:
          script: |
            const owner = context.repo.owner;
            const repo = context.repo.repo;
            const prNumber = context.payload.pull_request.number;
            const author = context.payload.pull_request.user.login;

            const body = [
              `ðŸ‘‹ Hey @${author} â€” thanks for opening this PR!`,
              '',
              '> **ðŸ¤– This project is developed exclusively using Claude Code (Opus 4.5 / 4.6).**',
              '>',
              '> Please do not submit hand-written code changes. All contributions to this repo',
              '> should be authored using [Claude Code](https://docs.anthropic.com/en/docs/claude-code/overview)',
              '> with **Claude Opus 4.5 or 4.6** as the model.',
              '>',
              '> This ensures consistency in code style, architecture patterns, test coverage,',
              '> and commit quality across the entire codebase.',
              '',
              'If you need help getting set up with Claude Code, check out the',
              '[installation guide](https://docs.anthropic.com/en/docs/claude-code/overview).',
              '',
              '---',
              '*This is an automated message.*',
            ].join('\n');

            await github.rest.issues.createComment({
              owner,
              repo,
              issue_number: prNumber,
              body,
            });
